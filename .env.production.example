# ===========================================
# Cloudflare SaaS Boilerplate - Production Environment
# ===========================================
#
# PRODUCTION CONFIGURATION TEMPLATE
#
# IMPORTANT: This file contains sensitive configuration.
# Never commit actual production values to version control!
#
# DEPLOYMENT INSTRUCTIONS:
# 1. Copy this file to .env.production
# 2. Fill in all production values
# 3. Set secrets via wrangler: wrangler secret put AUTH_SECRET
# 4. Deploy: pnpm deploy:prod
#
# ===========================================

# ===========================================
# Cloudflare Configuration (REQUIRED)
# ===========================================

# Cloudflare Account ID
CLOUDFLARE_ACCOUNT_ID=your_production_account_id

# D1 Database ID (Production)
# Create with: wrangler d1 create saas-db-prod
D1_DATABASE_ID=your_production_d1_database_id

# R2 Bucket Name (Production)
# Create with: wrangler r2 bucket create saas-storage-prod
R2_BUCKET_NAME=saas-storage-prod

# KV Namespace ID (Production)
# Create with: wrangler kv:namespace create KV
KV_NAMESPACE_ID=your_production_kv_namespace_id

# ===========================================
# Application URLs (Production)
# ===========================================

# Environment mode
ENVIRONMENT=production

# API URL - Your Workers domain
# Example: https://api.yourdomain.com or https://saas-api.your-account.workers.dev
PUBLIC_API_URL=https://api.yourdomain.com

# Frontend URL - Your Pages domain
# Example: https://app.yourdomain.com or https://your-app.pages.dev
PUBLIC_APP_URL=https://app.yourdomain.com


# ===========================================
# Authentication (REQUIRED - USE WRANGLER SECRETS)
# ===========================================

# IMPORTANT: Set this as a secret, not in .env file!
# Run: wrangler secret put AUTH_SECRET
# Then enter a secure 32-byte hex string
#
# Generate with: openssl rand -hex 32
AUTH_SECRET=SET_VIA_WRANGLER_SECRET

# Session expiry in days
SESSION_EXPIRY_DAYS=30

# ===========================================
# Notification Channels
# ===========================================

# Telegram Bot Configuration
# Set as secrets: wrangler secret put TELEGRAM_BOT_TOKEN
TELEGRAM_BOT_TOKEN=SET_VIA_WRANGLER_SECRET
TELEGRAM_CHAT_ID=your_admin_chat_id

# Email Provider Configuration
# Set as secret: wrangler secret put EMAIL_API_KEY
EMAIL_API_KEY=SET_VIA_WRANGLER_SECRET
EMAIL_FROM=noreply@yourdomain.com

# ===========================================
# Payment Configuration
# ===========================================

# QRIS Configuration for manual payment
QRIS_MERCHANT_NAME=Your Official Business Name
QRIS_MERCHANT_ID=your_production_merchant_id

# ===========================================
# File Upload Configuration
# ===========================================

# Maximum file size in bytes (10MB recommended for production)
MAX_FILE_SIZE=10485760

# Allowed file types (be restrictive in production)
ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf

# ===========================================
# Rate Limiting (Stricter for Production)
# ===========================================

# Default rate limit (requests per minute)
RATE_LIMIT_DEFAULT=60

# Auth endpoints rate limit (requests per minute)
# Very strict to prevent brute force attacks
RATE_LIMIT_AUTH=5

# ===========================================
# Webhook Configuration
# ===========================================

# IMPORTANT: Set this as a secret!
# Run: wrangler secret put WEBHOOK_SECRET
WEBHOOK_SECRET=SET_VIA_WRANGLER_SECRET

# ===========================================
# Production Security Settings
# ===========================================

# Disable debug logging in production
DEBUG=false

# Never skip email verification in production
SKIP_EMAIL_VERIFICATION=false

# ===========================================
# Custom Domain Configuration (Optional)
# ===========================================

# If using custom domains, configure in Cloudflare dashboard:
# - Workers: Settings > Triggers > Custom Domains
# - Pages: Custom domains in Pages project settings

# CORS allowed origins (comma-separated)
# CORS_ALLOWED_ORIGINS=https://app.yourdomain.com,https://www.yourdomain.com
